<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/cadastroprof.css">
    <title>Cadastro</title>
</head>
<body>
    <header>
        <h2>Cadastre-se na <b>SOLLARIUM</b> e obtenha os melhores serviços com os melhores profissionais.</h2>
        <a href="#">
            <button class="prof">Sou Profissional</button>
        </a>
        <a href="/cadastrocliente">
            <button class="cliente">Sou Cliente</button>
        </a>
    </header>

    <main>
        <form id="cadastroForm">
            <h1>Crie uma nova conta<b>.</b></h1>
            <hr>
            <section class="form-group">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="sobrenome">Sobrenome:</label>
                <input type="text" id="sobrenome" name="sobrenome" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="phone">Telefone:</label>
                <input type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="cpf">CPF:</label>
                <input type="text" id="cpf" name="cpf" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="estado">Estado:</label>
                <input type="text" id="estado" name="estado" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="cidade">Cidade:</label>
                <input type="text" id="cidade" name="cidade" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="cep">CEP:</label>
                <input type="text" id="cep" name="cep" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="profissao">Área em que deseja atuar:</label>
                <select id="profissao" name="profissao" required>
                    <option value="">Selecione</option>
                    <option value="Instalação">Instalação</option>
                    <option value="Vistoria">Vistoria</option>
                    <option value="Manutenção">Manutenção</option>
                    <option value="Consultoria">Consultoria</option>
                    <option value="Limpeza">Limpeza</option>
                </select>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="curriculo">Currículo:</label>
                <input type="file" id="curriculo" name="curriculo">
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="senha">Senha:</label>
                <input type="password" id="senha" name="senha" required>
                <small class="error-message"></small>
            </section>
            <section class="form-group">
                <label for="confirmar-senha">Confirmar Senha:</label>
                <input type="password" id="confirmar-senha" name="confirmar-senha" required>
                <small class="error-message"></small>
            </section>
            <hr>
            <p>Já possui uma conta? <a href="/entrar" class="link">Conecte-se</a></p>
            <input type="submit" value="Criar Conta">
            <section id="success-message"></section>
        </form>
    </main>

    <script>
        document.getElementById('cadastroForm').addEventListener('submit', async function(event) {
    event.preventDefault();

    // Limpa mensagens de erro
    const errorMessages = document.querySelectorAll('.error-message');
    errorMessages.forEach(error => error.style.display = 'none');

    const formData = {
        nome: document.getElementById('nome').value,
        sobrenome: document.getElementById('sobrenome').value,
        phone: document.getElementById('phone').value,
        cpf: document.getElementById('cpf').value,
        estado: document.getElementById('estado').value,
        cidade: document.getElementById('cidade').value,
        cep: document.getElementById('cep').value,
        email: document.getElementById('email').value,
        profissao: document.getElementById('profissao').value,
        senha: document.getElementById('senha').value,
        confirmar_senha: document.getElementById('confirmar-senha').value
    };

    // Validações
    let isValid = true;

    if (!formData.nome) {
        showError('nome', 'Nome é obrigatório.');
        isValid = false;
    }

    if (!formData.sobrenome) {
        showError('sobrenome', 'Sobrenome é obrigatório.');
        isValid = false;
    }

    if (!formData.phone) {
        showError('phone', 'Telefone é obrigatório.');
        isValid = false;
    }

    if (!formData.cpf) {
        showError('cpf', 'CPF é obrigatório.');
        isValid = false;
    }

    if (!formData.estado) {
        showError('estado', 'Estado é obrigatório.');
        isValid = false;
    }

    if (!formData.cidade) {
        showError('cidade', 'Cidade é obrigatória.');
        isValid = false;
    }

    if (!formData.cep) {
        showError('cep', 'CEP é obrigatório.');
        isValid = false;
    }

    if (!formData.email) {
        showError('email', 'Email é obrigatório.');
        isValid = false;
    }

    if (!formData.profissao) {
        showError('profissao', 'Profissão é obrigatória.');
        isValid = false;
    }

    if (!formData.senha || formData.senha.length < 8) {
        showError('senha', 'A senha deve ter no mínimo 8 caracteres.');
        isValid = false;
    }

    if (formData.senha !== formData.confirmar_senha) {
        showError('confirmar_senha', 'As senhas não coincidem.');
        isValid = false;
    }

    if (!isValid) return
}
        )
    </script>
</body>
</html>
